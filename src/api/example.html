<html>
    Example template.
    <br/>
    Show how to get the info from NCU OAuth.
    <div id="account_type">
		帳號類型：
	</div>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <script>
		const api_info = '/api/info/accountType';

		function getQueryStr(name) {
			const queryString = window.location.search;
    		const urlParams = new URLSearchParams(queryString);
    		return urlParams.get(name);
		}

        async function getAccountType() {
			const access_token = getQueryStr("access_token");
			const headers = { 
				access_token
			}
			const res = await axios.get(api_info, {headers});
			return res.data.result;
		}

		async function setAccountType() {
			const account_type = await getAccountType();
			document.getElementById("account_type").innerHTML += account_type;
		}

		setAccountType();
		
		async function test() {
			console.log(axios)
			const r = await axios.get("http://163.22.17.184:8122/api/sensor");
			console.log(r);
		}
    </script>
</html>
